<html>
<head>
  <script type="text/javascript" src="../../Tactile.js"></script>
  <script type="text/javascript" src="../vendor/knockout/knockout-3.3.0.js"></script>
  <script type="text/javascript" src="../vendor/knockout.mapping/knockout.mapping.js"></script>
  <script type="text/javascript" src="../vendor/velocity/velocity.min.js"></script>
  <script type="text/javascript" src="../vendor/js-yaml/js-yaml.min.js"></script>
  <script type="text/javascript" src="../vendor/jquery/jquery.js"></script>
  <script type="text/javascript" src="../vendor/semantic-ui/semantic-ui.min.js"></script>
  <script type="text/javascript" src="../vendor/marked/marked.min.js"></script>
  <link rel="stylesheet" type="text/css" href="../vendor/semantic-ui/semantic-ui.min.css">
  <link rel="stylesheet" type="text/css" href="workshopPlanner.css">
  <link rel="stylesheet" type="text/css" href="../../css/core.css">
  <link rel="stylesheet" type="text/css" href="../../css/default.css">
  <title>Workshop Planner</title>
</head>
<body>
  <div class="ui fixed inverted menu">
    <div class="ui container">
      <div href="#" class="header item">
        Workshop Planner
      </div>
    </div>
  </div>

  <div class="layout">
    <div class="layout-activities" data-drag-scrollable>
      <div class="ui search small" style="margin-bottom:10px">
        <div class="ui icon input fluid">
          <input class="prompt" type="text" placeholder="Search activities..." data-bind="textInput: query">
          <i class="search icon"></i>
        </div>
      </div>
      <div class="ui buttons tiny fluid"
           data-bind="foreach: tags()"
           style="margin-bottom:10px;">
        <button class="ui button grey"
                data-bind="text: $data,
                           click: function() { $parent.selectedTag($data); },
                           css: { active: $parent.selectedTag() === $data,
                                  basic: $parent.selectedTag() !== $data }"></button>
      </div>




      <section data-bind="with: openActivityOrTemplate">
        <div class="ui modal" data-bind="semanticModal">
          <i class="close icon"></i>
          <div class="header" data-bind="text: name"></div>
          <div class="content">
            <div class="description">
              <div class="ui header" data-bind="text: shortDescription"></div>
              <!-- ko if:$data.description -->
              <h3>Description</h3>
              <div data-bind="marked: description"></div>
              <!-- /ko -->
              <!-- ko if:$data.howToRun -->
              <h3>How to Run</h3>
              <div data-bind="marked: howToRun"></div>
              <!-- /ko -->
              <h3>Notes</h3>
              <div class="ui fluid input">
                <textarea data-bind="textInput:notes"></textarea>
              </div>
            </div>
          </div>
          <div class="actions">
            <div class="ui black deny button">Nope</div>
            <div class="ui positive right labeled icon button">Yep, that's me<i class="checkmark icon"></i></div>
          </div>
        </div>
      </section>




      <ol data-drag-sortable
          data-drag-tag="activity"
          data-drag-accepts="none"
          data-drag-leave-action="copy"
          data-bind="foreach: filteredTemplates()">
        <li class="ui card" data-bind="click: function() { $parent.openActivityOrTemplate($data); }">
          <!-- ko if:$data.imageName -->
          <div class="image">
            <img data-bind="attr: { src: './assets/' + $data.imageName }" />
          </div>
          <!-- /ko -->
          <div class="content">
            <h4 class="header" data-bind="text: name"></h4>
            <p class="description" data-bind="text: shortDescription"></p>
          </div>
          <div class="extra content">
            <i class="clock icon"></i>
            <span class="duration" data-bind="text: duration"></span>
          </div>
        </li>
      </ol>

    </div>



    <div class="layout-plan">
      <ol class="days-list"
          data-drag-sortable="horizontal"
          data-drag-tag="day"
          data-drag-scrollable
          data-drag-bounds="day">
        <!-- ko foreach:columns -->
        <li class="day">
          <header class="day-header">
            <div class="ui text menu" style="float:right; margin: 0;">
              <div class="ui right dropdown simple item">
                <i class="sidebar icon"></i>
                <ol class="menu">
                  <li class="item">Duplicate</li>
                  <li class="item">Delete</li>
                </ol>
              </div>
            </div>
            <span style="float:right" data-drag-handle><i class="resize horizontal icon"></i></span>
            <div class="ui transparent input huge" style="float:left">
              <input type="text"
                     placeholder="Day"
                     data-bind="textInput:name">
            </div>



          </header>
          <ol class="day-activities"
              data-drag-scrollable
              data-drag-sortable
              data-drag-tag='activity'
              data-bind="foreach:activities">
              <li class="ui card" data-bind="click: function() { $root.openActivityOrTemplate($data); }">
                <!-- ko if:$data.imageName -->
                <div class="image">
                  <img data-bind="attr: { src: './workshopPlanner/assets/' + $data.imageName }" />
                </div>
                <!-- /ko -->
                <div class="content">
                  <h4 class="header" data-bind="text: name"></h4>
                  <p class="description" data-bind="text: shortDescription"></p>
                </div>
                <div class="extra content">
                  <i class="clock icon"></i>
                  <span class="duration" data-bind="text: duration"></span>
                </div>
              </li>
          </ol>
        </li>
        <!-- /ko -->
        <li class="day-new">
          <button class="circular ui icon button massive">
            <i class="plus icon"></i>
          </button>
        </li>
      </ol>
    </div>
  </div>

  <script type="text/javascript" src="workshopPlanner.js"></script>
</body>
</html>
